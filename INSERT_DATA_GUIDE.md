# üìä H∆Ø·ªöNG D·∫™N C·∫¨P NH·∫¨T D·ªÆ LI·ªÜU L√äN MONGODB

## üéØ M·ª•c ƒë√≠ch

Insert d·ªØ li·ªáu m·∫´u v√†o MongoDB bao g·ªìm:
- ‚úÖ 2 Users (1 Admin + 1 User th∆∞·ªùng)
- ‚úÖ 10 Tours (6 Featured + 4 Regular)
- ‚úÖ D·ªØ li·ªáu Vi·ªát Nam (ƒê√† L·∫°t, H·∫° Long, Ph√∫ Qu·ªëc, Sapa, v.v.)

---

## üîß PH∆Ø∆†NG PH√ÅP 1: D√ôNG MONGODB COMPASS (D·ªÑ NH·∫§T!) ‚≠ê

### B∆∞·ªõc 1: M·ªü MongoDB Compass

1. M·ªü ·ª©ng d·ª•ng **MongoDB Compass**
2. Connect: `mongodb://localhost:27017`

### B∆∞·ªõc 2: Ch·ªçn Database

1. Click v√†o database: **travel_booking**
2. N·∫øu ch∆∞a c√≥, backend s·∫Ω t·ª± t·∫°o khi ch·∫°y

### B∆∞·ªõc 3: Insert Users

#### 3.1. Insert Admin User

1. Click collection **users**
2. Click **ADD DATA** ‚Üí **Insert Document**
3. Paste JSON n√†y:

```json
{
  "name": "Admin User",
  "email": "admin@example.com",
  "password": "$2a$10$5YgZ8vqXz4qP7yU9xN2QZeX8j1jK5QwE7xH2nZ9fG8hW3kL6pM4mS",
  "role": "admin",
  "phone": "0123456789",
  "dateOfBirth": {
    "$date": "1990-01-01T00:00:00.000Z"
  },
  "avatar": "default-avatar.jpg",
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

4. Click **Insert**

#### 3.2. Insert User Th∆∞·ªùng

1. Click **ADD DATA** ‚Üí **Insert Document** l·∫ßn n·ªØa
2. Paste JSON n√†y:

```json
{
  "name": "Nguyen Van A",
  "email": "user@example.com",
  "password": "$2a$10$5YgZ8vqXz4qP7yU9xN2QZeX8j1jK5QwE7xH2nZ9fG8hW3kL6pM4mS",
  "role": "user",
  "phone": "0987654321",
  "dateOfBirth": {
    "$date": "1995-05-15T00:00:00.000Z"
  },
  "avatar": "default-avatar.jpg",
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

3. Click **Insert**

### B∆∞·ªõc 4: Insert Tours

#### 4.1. T·∫°o collection tours (n·∫øu ch∆∞a c√≥)

1. Click **Create Collection**
2. T√™n: `tours`
3. Click **Create**

#### 4.2. Insert tours t·ª´ng c√°i m·ªôt

Click **ADD DATA** ‚Üí **Insert Document** v√† paste t·ª´ng tour:

**Tour 1: ƒê√† L·∫°t (Featured)**
```json
{
  "title": "Kh√°m ph√° ƒê√† L·∫°t - Th√†nh ph·ªë ng√†n hoa",
  "description": "Tr·∫£i nghi·ªám kh√¥ng kh√≠ trong l√†nh, kh√°m ph√° nh·ªØng th√°c n∆∞·ªõc h√πng vƒ©, th∆∞·ªüng th·ª©c caf√© ƒë·∫∑c s·∫£n v√† chi√™m ng∆∞·ª°ng v·∫ª ƒë·∫πp th∆° m·ªông c·ªßa ƒê√† L·∫°t.",
  "price": 2500000,
  "duration": 3,
  "maxGroupSize": 15,
  "difficulty": "easy",
  "featured": true,
  "location": {
    "city": "ƒê√† L·∫°t",
    "country": "Vi·ªát Nam",
    "address": "L√¢m ƒê·ªìng, Vi·ªát Nam"
  },
  "images": ["dalat1.jpg", "dalat2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 2: H·∫° Long (Featured)**
```json
{
  "title": "Tour H·∫° Long - K·ª≥ quan thi√™n nhi√™n th·∫ø gi·ªõi",
  "description": "Du thuy·ªÅn sang tr·ªçng tr√™n v·ªãnh H·∫° Long, kh√°m ph√° hang ƒë·ªông k·ª≥ vƒ©, t·∫Øm bi·ªÉn t·∫°i b√£i t·∫Øm ƒë·∫πp v√† th∆∞·ªüng th·ª©c h·∫£i s·∫£n t∆∞∆°i ngon.",
  "price": 3500000,
  "duration": 2,
  "maxGroupSize": 20,
  "difficulty": "easy",
  "featured": true,
  "location": {
    "city": "H·∫° Long",
    "country": "Vi·ªát Nam",
    "address": "Qu·∫£ng Ninh, Vi·ªát Nam"
  },
  "images": ["halong1.jpg", "halong2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 3: Ph√∫ Qu·ªëc (Featured)**
```json
{
  "title": "Ph√∫ Qu·ªëc - ƒê·∫£o ng·ªçc thi√™n ƒë∆∞·ªùng",
  "description": "T·∫≠n h∆∞·ªüng b√£i bi·ªÉn xanh ng·∫Øt, l·∫∑n ng·∫Øm san h√¥, kh√°m ph√° v∆∞·ªùn ti√™u, l√†ng ch√†i v√† th∆∞·ªüng th·ª©c h·∫£i s·∫£n t∆∞∆°i s·ªëng.",
  "price": 4500000,
  "duration": 4,
  "maxGroupSize": 12,
  "difficulty": "easy",
  "featured": true,
  "location": {
    "city": "Ph√∫ Qu·ªëc",
    "country": "Vi·ªát Nam",
    "address": "Ki√™n Giang, Vi·ªát Nam"
  },
  "images": ["phuquoc1.jpg", "phuquoc2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 4: Sapa (Featured)**
```json
{
  "title": "Sapa - T√¢y B·∫Øc h√πng vƒ©",
  "description": "Chinh ph·ª•c ƒë·ªânh Fansipan, kh√°m ph√° ru·ªông b·∫≠c thang tuy·ªát ƒë·∫πp, t√¨m hi·ªÉu vƒÉn h√≥a d√¢n t·ªôc thi·ªÉu s·ªë v√† tr·∫£i nghi·ªám ch·ª£ t√¨nh Sapa.",
  "price": 3000000,
  "duration": 3,
  "maxGroupSize": 18,
  "difficulty": "moderate",
  "featured": true,
  "location": {
    "city": "Sapa",
    "country": "Vi·ªát Nam",
    "address": "L√†o Cai, Vi·ªát Nam"
  },
  "images": ["sapa1.jpg", "sapa2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 5: Nha Trang (Featured)**
```json
{
  "title": "Nha Trang - Th√†nh ph·ªë bi·ªÉn xinh ƒë·∫πp",
  "description": "T·∫Øm bi·ªÉn, l·∫∑n bi·ªÉn ng·∫Øm san h√¥, tham quan Vinpearl Land, ƒë·∫£o H√≤n Mun v√† th∆∞·ªüng th·ª©c h·∫£i s·∫£n t∆∞∆°i ngon.",
  "price": 2800000,
  "duration": 3,
  "maxGroupSize": 25,
  "difficulty": "easy",
  "featured": true,
  "location": {
    "city": "Nha Trang",
    "country": "Vi·ªát Nam",
    "address": "Kh√°nh H√≤a, Vi·ªát Nam"
  },
  "images": ["nhatrang1.jpg", "nhatrang2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 6: H·ªôi An (Featured)**
```json
{
  "title": "H·ªôi An - Ph·ªë c·ªï ƒë√®n l·ªìng",
  "description": "Kh√°m ph√° ph·ªë c·ªï, tham quan h·ªôi qu√°n, ch√πa c·∫ßu, th·∫£ ƒë√®n hoa ƒëƒÉng v√† th∆∞·ªüng th·ª©c ·∫©m th·ª±c ƒë·∫∑c s·∫Øc H·ªôi An.",
  "price": 2200000,
  "duration": 2,
  "maxGroupSize": 20,
  "difficulty": "easy",
  "featured": true,
  "location": {
    "city": "H·ªôi An",
    "country": "Vi·ªát Nam",
    "address": "Qu·∫£ng Nam, Vi·ªát Nam"
  },
  "images": ["hoian1.jpg", "hoian2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 7: ƒê√† N·∫µng**
```json
{
  "title": "ƒê√† N·∫µng - Th√†nh ph·ªë ƒë√°ng s·ªëng",
  "description": "Tham quan B√† N√† Hills, c·∫ßu V√†ng, b√£i bi·ªÉn M·ªπ Kh√™, n√∫i S∆°n Tr√† v√† th∆∞·ªüng th·ª©c h·∫£i s·∫£n t∆∞∆°i ngon.",
  "price": 2600000,
  "duration": 3,
  "maxGroupSize": 22,
  "difficulty": "easy",
  "featured": false,
  "location": {
    "city": "ƒê√† N·∫µng",
    "country": "Vi·ªát Nam",
    "address": "ƒê√† N·∫µng, Vi·ªát Nam"
  },
  "images": ["danang1.jpg", "danang2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 8: Ninh B√¨nh**
```json
{
  "title": "Ninh B√¨nh - V·ªãnh H·∫° Long tr√™n c·∫°n",
  "description": "Du thuy·ªÅn tr√™n s√¥ng qua hang ƒë·ªông Tam C·ªëc, tham quan B√°i ƒê√≠nh, Tr√†ng An v√† th∆∞·ªüng th·ª©c d√™ n√∫i ƒë·∫∑c s·∫£n.",
  "price": 1800000,
  "duration": 2,
  "maxGroupSize": 16,
  "difficulty": "easy",
  "featured": false,
  "location": {
    "city": "Ninh B√¨nh",
    "country": "Vi·ªát Nam",
    "address": "Ninh B√¨nh, Vi·ªát Nam"
  },
  "images": ["ninhbinh1.jpg", "ninhbinh2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 9: M√π Cang Ch·∫£i**
```json
{
  "title": "M√π Cang Ch·∫£i - M√πa l√∫a ch√≠n v√†ng",
  "description": "Chi√™m ng∆∞·ª°ng ru·ªông b·∫≠c thang ƒë·∫πp nh·∫•t Vi·ªát Nam, kh√°m ph√° vƒÉn h√≥a d√¢n t·ªôc H'M√¥ng v√† trekking kh√°m ph√° thi√™n nhi√™n.",
  "price": 3200000,
  "duration": 3,
  "maxGroupSize": 12,
  "difficulty": "hard",
  "featured": false,
  "location": {
    "city": "M√π Cang Ch·∫£i",
    "country": "Vi·ªát Nam",
    "address": "Y√™n B√°i, Vi·ªát Nam"
  },
  "images": ["mucangchai1.jpg", "mucangchai2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

**Tour 10: C√¥n ƒê·∫£o**
```json
{
  "title": "C√¥n ƒê·∫£o - Thi√™n ƒë∆∞·ªùng bi·ªÉn ƒë·∫£o",
  "description": "L·∫∑n bi·ªÉn ng·∫Øm san h√¥, tham quan di t√≠ch l·ªãch s·ª≠, t·∫Øm bi·ªÉn t·∫°i b√£i ƒê·∫ßm Tr·∫ßu v√† th∆∞·ªüng th·ª©c h·∫£i s·∫£n t∆∞∆°i s·ªëng.",
  "price": 5000000,
  "duration": 3,
  "maxGroupSize": 10,
  "difficulty": "moderate",
  "featured": false,
  "location": {
    "city": "C√¥n ƒê·∫£o",
    "country": "Vi·ªát Nam",
    "address": "B√† R·ªãa - V≈©ng T√†u, Vi·ªát Nam"
  },
  "images": ["condao1.jpg", "condao2.jpg"],
  "createdAt": {
    "$date": "2025-10-21T00:00:00.000Z"
  }
}
```

---

## üîß PH∆Ø∆†NG PH√ÅP 2: D√ôNG FILE SCRIPT (NHANH H∆†N)

### B∆∞·ªõc 1: T√¨m MongoDB Shell

MongoDB Shell c√≥ th·ªÉ ·ªü:
```
C:\Program Files\MongoDB\Server\7.0\bin\mongosh.exe
```

### B∆∞·ªõc 2: Ch·∫°y script

```powershell
# M·ªü PowerShell
cd E:\Demo_web

# Ch·∫°y script (thay ƒë·ªïi path mongosh n·∫øu c·∫ßn)
& "C:\Program Files\MongoDB\Server\7.0\bin\mongosh.exe" mongodb://localhost:27017/travel_booking insert_sample_data.js
```

Ho·∫∑c:

```powershell
# N·∫øu mongosh ƒë√£ c√≥ trong PATH
mongosh mongodb://localhost:27017/travel_booking insert_sample_data.js
```

---

## ‚úÖ X√ÅC NH·∫¨N D·ªÆ LI·ªÜU ƒê√É INSERT

### Trong MongoDB Compass:

1. Refresh database **travel_booking**
2. Ki·ªÉm tra collection **users**: Ph·∫£i c√≥ 2 documents
3. Ki·ªÉm tra collection **tours**: Ph·∫£i c√≥ 10 documents

### Ho·∫∑c qua backend API:

```
http://localhost:5000/api/tours
‚Üí Ph·∫£i tr·∫£ v·ªÅ 10 tours

http://localhost:5000/api/tours?featured=true
‚Üí Ph·∫£i tr·∫£ v·ªÅ 6 featured tours
```

---

## üéØ TEST D·ªÆ LI·ªÜU

### 1. ƒêƒÉng nh·∫≠p Admin

```
URL: http://localhost:3000/login
Email: admin@example.com
Password: admin123
```

Sau khi login:
- ‚úÖ Th·∫•y menu Admin
- ‚úÖ V√†o Dashboard ‚Üí Th·∫•y th·ªëng k√™: 10 tours
- ‚úÖ V√†o Qu·∫£n l√Ω Tours ‚Üí Th·∫•y 10 tours

### 2. ƒêƒÉng nh·∫≠p User

```
URL: http://localhost:3000/login
Email: user@example.com
Password: admin123
```

Sau khi login:
- ‚úÖ Th·∫•y menu User (Bookings c·ªßa t√¥i, H·ªì s∆°)
- ‚úÖ C√≥ th·ªÉ ƒë·∫∑t tour

### 3. Xem trang ch·ªß

```
URL: http://localhost:3000
```

- ‚úÖ Ph·∫ßn "Tours N·ªïi B·∫≠t": Hi·ªÉn th·ªã 6 tours (featured: true)
- ‚úÖ Ph·∫ßn "Tours HOT": Hi·ªÉn th·ªã 3 tours gi√° r·∫ª nh·∫•t
  - Ninh B√¨nh (1,800,000 ƒë)
  - H·ªôi An (2,200,000 ƒë)
  - ƒê√† L·∫°t (2,500,000 ƒë)

### 4. Xem t·∫•t c·∫£ tours

```
URL: http://localhost:3000/tours
```

- ‚úÖ Hi·ªÉn th·ªã c·∫£ 10 tours
- ‚úÖ Search, filter, sort ho·∫°t ƒë·ªông

---

## üìä CHI TI·∫æT D·ªÆ LI·ªÜU ƒê√É INSERT

### Users (2)

| Email | Password | Role | T√™n |
|-------|----------|------|-----|
| admin@example.com | admin123 | admin | Admin User |
| user@example.com | admin123 | user | Nguyen Van A |

### Tours (10)

| T√™n Tour | Gi√° | Ng√†y | Featured | ƒê·ªô kh√≥ |
|----------|-----|------|----------|--------|
| ƒê√† L·∫°t | 2,500,000 ƒë | 3 | ‚úÖ | Easy |
| H·∫° Long | 3,500,000 ƒë | 2 | ‚úÖ | Easy |
| Ph√∫ Qu·ªëc | 4,500,000 ƒë | 4 | ‚úÖ | Easy |
| Sapa | 3,000,000 ƒë | 3 | ‚úÖ | Moderate |
| Nha Trang | 2,800,000 ƒë | 3 | ‚úÖ | Easy |
| H·ªôi An | 2,200,000 ƒë | 2 | ‚úÖ | Easy |
| ƒê√† N·∫µng | 2,600,000 ƒë | 3 | ‚ùå | Easy |
| Ninh B√¨nh | 1,800,000 ƒë | 2 | ‚ùå | Easy |
| M√π Cang Ch·∫£i | 3,200,000 ƒë | 3 | ‚ùå | Hard |
| C√¥n ƒê·∫£o | 5,000,000 ƒë | 3 | ‚ùå | Moderate |

**Tours HOT (gi√° r·∫ª nh·∫•t):**
1. Ninh B√¨nh - 1,800,000 ƒë
2. H·ªôi An - 2,200,000 ƒë
3. ƒê√† L·∫°t - 2,500,000 ƒë

**Featured Tours (6):**
ƒê√† L·∫°t, H·∫° Long, Ph√∫ Qu·ªëc, Sapa, Nha Trang, H·ªôi An

---

## üêõ TROUBLESHOOTING

### L·ªói: Duplicate key error

**Nguy√™n nh√¢n:** Email ƒë√£ t·ªìn t·∫°i

**Gi·∫£i ph√°p:**
```javascript
// X√≥a users c≈© tr∆∞·ªõc
db.users.deleteMany({})

// Insert l·∫°i
```

### L·ªói: Collection not found

**Nguy√™n nh√¢n:** Collection ch∆∞a ƒë∆∞·ª£c t·∫°o

**Gi·∫£i ph√°p:**
- Trong Compass: Create Collection ‚Üí T√™n: `users` ho·∫∑c `tours`
- Ho·∫∑c backend s·∫Ω t·ª± t·∫°o khi insert

### Ki·ªÉm tra d·ªØ li·ªáu trong Compass

```javascript
// ƒê·∫øm users
db.users.countDocuments()
// ‚Üí Ph·∫£i = 2

// ƒê·∫øm tours
db.tours.countDocuments()
// ‚Üí Ph·∫£i = 10

// ƒê·∫øm featured tours
db.tours.countDocuments({ featured: true })
// ‚Üí Ph·∫£i = 6

// Xem tour r·∫ª nh·∫•t
db.tours.find().sort({ price: 1 }).limit(3)
// ‚Üí Ninh B√¨nh, H·ªôi An, ƒê√† L·∫°t
```

---

## ‚úÖ CHECKLIST

- [ ] MongoDB Compass ƒë√£ m·ªü v√† connected
- [ ] Database `travel_booking` ƒë√£ t·ªìn t·∫°i
- [ ] Collection `users` c√≥ 2 documents
- [ ] Collection `tours` c√≥ 10 documents
- [ ] ƒêƒÉng nh·∫≠p admin th√†nh c√¥ng
- [ ] ƒêƒÉng nh·∫≠p user th√†nh c√¥ng
- [ ] Trang ch·ªß hi·ªÉn th·ªã Featured Tours (6)
- [ ] Trang ch·ªß hi·ªÉn th·ªã Tours HOT (3)
- [ ] Admin c√≥ th·ªÉ t·∫°o/s·ª≠a/x√≥a tours
- [ ] User c√≥ th·ªÉ ƒë·∫∑t booking

---

**üéâ SAU KHI INSERT D·ªÆ LI·ªÜU:**

1. Refresh trang ch·ªß: http://localhost:3000
2. Xem Tours N·ªïi B·∫≠t (6 tours)
3. Xem Tours HOT (3 tours gi√° r·∫ª)
4. ƒêƒÉng nh·∫≠p admin v√† test t·∫•t c·∫£ t√≠nh nƒÉng
5. ƒêƒÉng nh·∫≠p user v√† test ƒë·∫∑t tour

**Website gi·ªù ƒë√£ c√≥ ƒë·∫ßy ƒë·ªß d·ªØ li·ªáu ƒë·ªÉ demo!** üöÄ
